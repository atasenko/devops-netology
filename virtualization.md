### Задача 1. Основное отличие аппаратной виртуализации от паравиртуализации и виртуализации на основе ОС.

Аппаратная. Гипервизор напрямую взаимодействует с "железом", исполняет функции ОС. ВМ содержат свой собственный набор виртуальных устройств и ядро, получают прямой доступ к ресурсам хоста, что позволяет добиться лучшей производительности.

Паравиртуализация. Гипервизор работает как приложение поверх ОС, ядра запускаемых ВМ модифицируются для разделения ресурсов хоста. ВМ также имеют свои собственные устройства, но используют ресурсы ОС.

Виртуализация на уровне ОС (контейнеры). Контейнеры используют ядро, устройства и ресурсы хоста. Изоляция несколько хуже чем у ВМ, но меньше потребление ресурсов, выше скорость запуска.

### Задача 2.

- Высоконагруженная база данных чувствительная к отказу.

Лучшим решением для БД будет кластер физических серверов. Он позволит получить максимальную производительность и не потерять в отказоустойчивости.

- Различные web-приложения.

Контейнеры (возможно, поверх аппаратной или паравиртуализации). Обычно не требуют производительности как у БД, легко масштабируются, могут удобно внедряться средствами CI-CD в цикл разаработки.

- Windows-системы для использования бухгалтерским отделом.

Вопрос со звездочкой? :) Зависит от схемы работы и архитектуры бухгалтерского ПО. Если речь о сервере (например, 1С) с БД SQL на том же или выделенном хосте, их обычно размещают на физических серверах (кластерах) для улучшения производительности. Клиенты для использования бухгалтерским отделом - физические рабочие станции или ВМ (аппаратная или паравиртуализация) в виде Windows Server со службами RDS. Еще один вариант клиента - VDI.

- Системы выполняющие высокопроизводительные расчеты на GPU.

К сожалению, не пришлось столкнуться с подобной задачей в работе, не могу предположить подводные камни. Вероятнее всего, наиболее эффективной в плане производительности и монопольного доступа к ресурсам будет физический сервер.

### Задача 3.

#### Сценарий 1. 100 ВМ, преимущественно Windows.

Кластер Hyper-V, на мой взгляд, будет оптимальным решением с поддержкой отказоустойчивости, репликации и автоматизированного создания резервных копий (даже бесплатно). Отличная совместимость с Windows, но и Linux ВМ работают без проблем. Программные балансировщики нагрузки (nginx|haproxy) внутри Linux ВМ.

#### Сценарий 2. Производительное open-source решение.

Xen. Наиболее производительное open-source решение аппаратной виртуализации.

#### Сценарий 3. Бесплатное, максимально совместимое и производительное решение для Windows-инфраструктуры.

Hyper-V сервер. Бесплатен, максимально совместим, производителен.

#### Сценарий 4. Рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

VirtualBOX. Можно установить локально и быстро разворачивать машины вручную или с помощью Vagrant.

### Задача 4.

Пожалуй, основная проблема гетерогенной среды виртуализации - несовместимость или условная совместимость связанная с дополнительными действиями и простоем ВМ при необходимости миграции из одной среды в другую или восстановлении из бекапа. Для минимизации этих рисков и проблем логично использовать контейнеры где это возможно. Тогда при необходимости рабочая нагрузка может быть развернута независимо от системы виртуализации.
Если используются ESX и Hyper-v, управление средой при помощи System Center несколько сгладит проблемы, но полностью их не решит.
Если бы у меня был выбор, я бы сделал его в пользу однородной среды.
